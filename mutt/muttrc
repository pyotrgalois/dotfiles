ignore *
unignore From To Reply-To Cc Bcc Subject Date Organization X-Label X-Mailer User-Agent

set realname = "Federico Carrone"
color normal default default
set folder      = ~/.mail
source ~/.mutt/mailboxes
set spoolfile = "+personal/INBOX"

unset record

set sort=threads
set sort_browser=reverse-date
set sort_aux = 'reverse-last-date-received'

set ascii_chars=no                              # looks better
set send_charset="utf-8"
set delete=yes                                  # don't ask me dammit
set editor='vim + -c "set textwidth=72" -c "set wrap"'
set fast_reply=yes                              # quick like a ninja
set imap_passive=no                             # open all
set metoo=no                                    # i know what i'm saying

set smart_wrap=yes                              # smart like a fox
set sleep_time=0
set timeout=15                                  # update the current box quickly
set use_from                                    # add a from header
unset user_agent                                # i don't use mutt, i swear
set pager_index_lines = 10 # number of index lines to show
set pager_context = 3      # number of context lines to show
set pager_stop             # don't go to next message automatically
set menu_scroll            # scroll in menus
set tilde                  # show tildes like in vim
unset markers              # no ugly plus signs
set recall=no

auto_view text/html
alternative_order text/plain text/enriched text/html

# Don't move read messages to another mbox
set move = no
set record="=sent"                              # store sent mail on imap

# composing
set fcc_attach
unset mime_forward
set forward_format = "Fwd: %s"
set include
set forward_quote

# Status Bar
set sidebar_visible = no 
set sidebar_width = 30

set status_chars  = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"
color sidebar_new blue default

bind index,pager B sidebar-toggle-visible
macro index K "<enter-command>push <sidebar-prev><sidebar-open><enter>"
macro index J "<enter-command>push <sidebar-next><sidebar-open><enter>"

set sendmail="msmtp"
set envelope_from=yes
macro generic "<esc>1" ":set from=federico.carrone@gmail.com<enter>"
macro generic "<esc>2" ":set from=federico.carrone@lambdaclass.com<enter>"

macro index gp       "<change-folder> =personal/INBOX<enter>"       "go to Inbox"
macro index gw       "<change-folder> =work/INBOX<enter>"       "go to Inbox"

bind attach <return>    view-mailcap
